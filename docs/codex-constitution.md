# Codex憲法（固定プロンプト）

※本ファイルは **毎PR / 毎タスクの冒頭に必ず参照される前提** とする。  
仕様・方針に迷った場合は、本ファイルと `docs/requirements.md` を最優先する。

---

## 0. プロジェクトの目的

- サービス名：**やることリスト**
- 初めてのことでも「何をすればいいか」が分かり、実行できる状態を作る
- MVPは **最短で価値を出すこと** を目的とする

---

## 1. 技術スタック（固定）

- Backend：Ruby on Rails
- DB：PostgreSQL（Render）
- Frontend：React
- 構成：**Inertia.js + React**
- Bundler：vite_rails（vite_ruby）
- SSR：Inertia SSR（Node）
- Hosting：Render（無料）
- Docker

---

## 2. SEO対象範囲（MVP）

以下のみ SSR 品質を最優先する：

- トップページ
- リスト一覧
- リスト詳細

ログイン後ページは SEO 対象外。

---

## 3. MVPで絶対に増やさない機能

- 通知 / リマインド
- 期日・期限管理
- 地域分岐
- 共有・共同編集
- 課金
- AI生成
- カテゴリ拡張UI

---

## 4. UI / コピーの原則（最重要）

### 対象ユーザー
- ITリテラシーが高くない40〜60代

### 禁止ワード（ユーザー向け）
- TODO
- タスク
- テンプレート
- 実行
- 登録（強い命令感）

### 使用する言葉
- やること
- このリスト
- 自分用にする
- 完了

※ 文言は `docs/requirements.md` の表記ルールに厳密に従う。

---

## 5. デザイン方針

- 親しみやすさ最優先
- 情報量は最小限
- 余白多め
- テーマカラー：パステル調（グリーン）

---

## 6. アーキテクチャ方針

- 画面はすべて Inertia + React
- Railsは以下を担当
  - ルーティング
  - 認可
  - データ取得
  - バリデーション
  - 永続化
- メタ情報（title / description）は SSR で反映可能な設計にする

---

## 7. セキュリティ（最低限）

- 閲覧：非ログイン可
- コピー・操作：ログイン必須
- 自分のリストは本人のみ操作可能

---

## 8. PR運用ルール

### PR粒度
- 1PR = 1機能 or 1〜2画面

### PRに必ず含めるもの
- 変更点サマリ（日本語）
- 主要変更ファイル
- 手動テスト手順
- 未対応 / 懸念点

---

## 9. データの扱い

- Render Free Postgres の制限は理解した上で割り切る
- seed はデモ用として用意してよい

---

## 10. 一次情報

- docs/requirements.md
- AGENTS.md
- 本ファイル（Codex憲法）

---

